<!DOCTYPE html>
<html>
<head>
  <title>WebRTC Video Chat</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="style/datachannel.css">
</head>
<body>

  <nav class="navbar" role="navigation">
    <div class="container">
      <img src="images/pusher-logo.png" alt="Pusher" width="111" height="37">
      <span>| Realtime API</span>
    </div>
  </nav>
    
  <div class="container">
    <div class="row">
      <header class="col-md-12">
        <h1>WebRTC Video Chat</h1>
      </header>
    </div>

    <div class="row">
      <section class="col-md-12">
        <!-- WebRTC demo -->
        <div class="demo">
          <div class="demo-connect">
            <input type="text" class="demo-chat-channel-input form-control" placeholder="Channel name"></input>
            <button class="demo-chat-create btn btn-primary">Create</button>
            <button class="demo-chat-join btn btn-warning">Join</button>
          </div>
          <div class="demo-chat inactive">
            <div class="demo-chat-input">
              <input name="message" class="demo-chat-message-input form-control" placeholder="Message"></input>
              <button class="demo-chat-send btn btn-primary">Send</button>
            </div>
            <ul class="demo-chat-messages list-group">
              <li class="list-group-item" data-remove="true">No chat messages available</li>
            </ul>
          </div>
        </div>
        <!-- /End WebRTC demo -->
      </section>
    </div>
  </div>
  
  <!-- Zepto for AJAX -->
  <script src="js/zepto.min.js"></script>

  <!-- Pusher for WebRTC signalling -->
  <script src="js/pusher.min.js"></script>
  
  <!-- DataChannel.js for WebRTC functionality -->
  <script src="node_modules/datachannel/DataChannel.min.js"></script>

  <!-- Our WebRTC application -->
  <script src="js/datachannel-controller.js"></script>

  <!-- Fill channel name -->
  <script>
    function getParameterByName(name) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
          results = regex.exec(location.search);
      return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    var channel = getParameterByName("channel");

    if (channel) {
      document.querySelector(".demo-chat-channel-input").value = channel;
    }
  </script>
</body>
</html>